<!doctype html>
<html lang="en">
<head>
  
  <meta charset="utf-8" />
  <title>Sorting &middot; Isotope Demo</title>
  
  <!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
  <link rel="stylesheet" href="css/style.css" />
  
  <!-- scripts at bottom of page -->
    <script src="jquery-1.9.1.min.js"></script>

</head>
<body class="demos ">
  
 
  <section id="options" class="clearfix">
    
    
    <h3>Sort</h3>

    <ul id="sort-by" class="option-set clearfix" data-option-key="sortBy">
      <li><a href="#sortBy=original-order" data-option-value="original-order" class="selected" data>original-order</a></li>
      <li><a href="#sortBy=name" data-option-value="name">name</a></li>
      <li><a href="#sortBy=symbol" data-option-value="symbol">symbol</a></li>
      <li><a href="#sortBy=number" data-option-value="number">number</a></li>
      <li><a href="#sortBy=weight"  data-option-value="weight">weight</a></li>
      <li><a href="#sortBy=category" data-option-value="category">category</a></li>
      <li><a href="#sortBy=random" data-option-value="random">random</a></li>
    </ul>

    <h3>Sort direction</h3>

    <ul id="sort-direction" class="option-set clearfix" data-option-key="sortAscending">
      <li><a href="#sortAscending=true" data-option-value="true" class="selected">sort ascending</a></li>
      <li><a href="#sortAscending=false" data-option-value="false">sort descending</a></li>
    </ul>


  </section> <!-- #options -->

    <div id="container" class="clearfix">
  <!-- TODO make the divs here dynamically. Only thing to be accurate needs to be the class for the colour, the rest is straightforward -->  
      
    <script type="text/javascript">
    $(function () {

  // Make ajax request
    // $.ajax({
        
    // url: 'ajaxreturn.php',
    // dataType:'json',
    // success: function(data) {s

    //         // Get the length of the array returned
    //     var length = data.length;

        // Walk backward through the array, adding each new item 
        //    to the top of the container
        
            $('<div/>', {class:'element transition metal isotope-item', 'data-symbol':'Hg', 'data-category':'transition'})
            .append($('<p/>', {class:'number', text:'2 min'}) )
            .append($('<h3/>', {class:'symbol', text:'W3'}) )
            .append($('<h2/>', {class:'name', text:'Hunter'}) )
            .append($('<p/>', {class:'weight', text:'Stop: A'}) )
            .appendTo('#container' )
                 // Append new divs to the $container with proper class and data.
                 // data[length][...] uses the current index stored in the length variable
                //.append( $('<div/>', {className:'author', text:data[length]['author']} ) )
                //.append( $('<div/>', {className:'message', text:data[length]['message']} ) )
                //.append( $('<div/>', {className:'time', text:data[length]['time']} ) )

                 // Prepend $container to the #content div
            
      
    });
    

    </script>      

    <div class="element transition metal   " data-symbol="Hg" data-category="transition">
      <p class="number">due</p>
      <h3 class="symbol">W7</h3>
      <h2 class="name">Hunter</h2>
      <p class="weight">Stop: A</p>
    </div>
    
      
         
      
          
    
  </div> <!-- #container -->
  
 
  <script src="jquery.isotope.min.js"></script>
  <script>
    $(function(){
      
      var $container = $('#container');
      
      $container.isotope({
        itemSelector : '.element',
        getSortData : {
          symbol : function( $elem ) {
            return $elem.attr('data-symbol');
          },
          category : function( $elem ) {
            return $elem.attr('data-category');
          },
          number : function( $elem ) {
            return parseInt( $elem.find('.number').text(), 10 );
          },
          weight : function( $elem ) {
            return parseFloat( $elem.find('.weight').text().replace( /[\(\)]/g, '') );
          },
          name : function ( $elem ) {
            return $elem.find('.name').text();
          }
        }
      });
      
      
      var $optionSets = $('#options .option-set'),
          $optionLinks = $optionSets.find('a');

      $optionLinks.click(function(){
        var $this = $(this);
        // don't proceed if already selected
        if ( $this.hasClass('selected') ) {
          return false;
        }
        var $optionSet = $this.parents('.option-set');
        $optionSet.find('.selected').removeClass('selected');
        $this.addClass('selected');
  
        // make option object dynamically, i.e. { filter: '.my-filter-class' }
        var options = {},
            key = $optionSet.attr('data-option-key'),
            value = $this.attr('data-option-value');
        // parse 'false' as false boolean
        value = value === 'false' ? false : value;
        options[ key ] = value;
        if ( key === 'layoutMode' && typeof changeLayoutMode === 'function' ) {
          // changes in layout modes need extra logic
          changeLayoutMode( $this, options )
        } else {
          // otherwise, apply new options
          $container.isotope( options );
        }
        
        return false;
      });

      
    });
  </script>

    
    <footer>
      Developed by: <a href="http://twitter.com/sgul">SGUL I.T.</a> - <a href="http://github.com/sgul/Bus-Stops-at-SGUL">Code on GitHub</a> | Data: <a href="http://tfl.gov.uk">Transport for London</a> | Design: <a href="http://metafizzy.co">Isotope</a>
    </footer>
    
  </section> <!-- #content -->

</body>
</html>
